<form
  class="input-bar"
  #container
  [formGroup]="form"
  (ngSubmit)="onSubmit(container)"
>
  <section class="closed-section" *ngIf="!isOpened">
    <div class="input-wrapper" (click)="openSection()">
      <div class="default-text" spellcheck="false" contenteditable="false">
        Take a note...
      </div>
    </div>
    <div class="action-buttons">
      <app-btn-draw></app-btn-draw>
    </div>
  </section>
  <section class="opened-section" *ngIf="isOpened">
    <div class="title-wrapper">
      <input
        type="text"
        class="title-input"
        placeholder="Title"
        maxlength="20"
        formControlName="titleText"
      />
      <div class="pin-button-container">
        <app-btn-pin
          [isNotePinned]="noteIsPinned"
          (togglePin)="noteIsPinned = !noteIsPinned"
        ></app-btn-pin>
      </div>
    </div>
    <div class="main-note-content-wrapper">
      <textarea
        class="note-content-input"
        type="text"
        formControlName="mainNoteText"
        placeholder="Take a note..."
        wrap="soft"
        autoResize
        #inputField
      ></textarea>
    </div>
    <footer>
      <div class="action-buttons">
        <app-btn-change-bg
          (setNoteColor)="setColor$.next([$event, container])"
        ></app-btn-change-bg>
        <app-btn-add-image></app-btn-add-image>
        <app-btn-draw></app-btn-draw>
      </div>
      <button class="close-btn" type="submit">Close</button>
    </footer>
  </section>
</form>
